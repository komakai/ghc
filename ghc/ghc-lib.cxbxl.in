-- WARNING: ghc.cabal is automatically generated from ghc-lib.cxbxl.in by
-- ./configure.  Make sure you are editing ghc-lib.cabal.in, not ghc.cabal.

Name: ghc-lib
Version: @ProjectVersion@
Copyright: XXX
-- License: XXX
-- License-File: XXX
Author: XXX
Maintainer: glasgow-haskell-users@haskell.org
Homepage: http://www.haskell.org/ghc/
Synopsis: XXX
Description:
        XXX
Category: XXX
Data-Dir: ..
Data-Files: settings
Build-Type: Simple
Cabal-Version: >=1.10

Flag ghci
    Description: Build GHCi support.
    Default: False
    Manual: True

Flag interactiveghci
    Description: Build Interactive Edition support.
    Default: False
    Manual: True

Flag nativeinput
    Description: Build native input support.
    Default: False
    Manual: True

Flag androidnativeinput
    Description: Build Android native input support.
    Default: False
    Manual: True

Flag iosnativeinput
    Description: Build IOS native input support.
    Default: False
    Manual: True

library
    Default-Language: Haskell2010

    Exposed-Modules: Main
    Build-Depends: base       >= 3   && < 5,
                   array      >= 0.1 && < 0.6,
                   bytestring >= 0.9 && < 0.11,
                   directory  >= 1   && < 1.3,
                   process    >= 1   && < 1.3,
                   filepath   >= 1   && < 1.5,
                   ghc
    if os(windows)
        Build-Depends: Win32
    else
        Build-Depends: unix

    C-Sources: hschooks.c
    Include-Dirs: ..

    GHC-Options: -Wall
    if flag(ghci)
        Build-depends: deepseq >= 1.4 && < 1.5
        CPP-Options: -DGHCI
        GHC-Options: -fno-warn-name-shadowing
        Other-Modules:
            InteractiveUI
            GhciMonad
            GhciTags
        Build-Depends: transformers, haskeline
        Other-Extensions:
            FlexibleInstances
            MagicHash
            TupleSections
            UnboxedTuples

    if flag(interactiveghci)
        Build-depends: deepseq >= 1.4 && < 1.5
        CPP-Options: -DGHCI
        GHC-Options: -fno-warn-name-shadowing
        Other-Modules:
            InteractiveUI
            GhciMonad
            InteractiveStubs
        C-Sources: io.c
        Build-Depends: transformers
        Other-Extensions:
            FlexibleInstances
            MagicHash
            TupleSections
            UnboxedTuples


    if flag(nativeinput)
        C-Sources: nativeint/nativeint.c
        Include-Dirs: nativeint

    if flag(androidnativeinput)
        C-Sources: nativeint/android/haskell-android-int.c
        Include-Dirs: nativeint/android

    if flag(iosnativeinput)
        C-Sources: nativeint/ios/haskell-ios-int.c
        Include-Dirs: nativeint/ios

    Other-Extensions:
        CPP
        NondecreasingIndentation

