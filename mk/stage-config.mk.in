#								 -*-makefile-*-
# @configure_input@
#
################################################################################
#
# stage-config.mk.in
#
# This file supplies defaults for many tweakable build configuration
# options.  Some of the defaults are filled in by the autoconf-generated
# configure script.
#
# DO NOT EDIT THIS FILE!
#
# 	- stage-config.mk is auto-generated from stage-config.mk.in by configure.
#	  If you edit stage-config.mk your changes will be spammed.

WhatGccIsCalledStage@STAGE@ = @WhatGccIsCalled@
CC_STAGE@STAGE@ = @WhatGccIsCalled@
AS_STAGE@STAGE@ = @WhatGccIsCalled@
LD_STAGE@STAGE@ = @LdCmd@

# C compiler and linker flags from configure (e.g. -m<blah> to select
# correct C compiler backend). The stage number is the stage of GHC
# that is being used to compile with.
# NOTE: The STAGE will actually have already been determined by the time
# this file is included so define STAGE to equal that stage regardless of
# the stage indicated in the variable name
CONF_CC_OPTS_STAGE@STAGE@ = @CONF_CC_OPTS@ -DSTAGE=@STAGE@
CONF_GCC_LINKER_OPTS_STAGE@STAGE@ = @LDFLAGS@
CONF_LD_LINKER_OPTS_STAGE@STAGE@ = @CONF_LD_LINKER_OPTS@
CONF_CPP_OPTS_STAGE@STAGE@ = @CONF_CPP_OPTS@

CFlagOpsStage@STAGE@ = $(foreach opt,$(CONF_CC_OPTS_STAGE@STAGE@),-optc$(opt))
AFlagOpsStage@STAGE@ = $(foreach opt,$(CONF_CC_OPTS_STAGE@STAGE@),-opta$(opt))
LDFlagOpsStage@STAGE@ = $(foreach opt,$(CONF_GCC_LINKER_OPTS_STAGE@STAGE@),-optl$(opt))
XFlagsOpsStage@STAGE@ = $(filter -D%,$(CONF_CC_OPTS_STAGE@STAGE@))

SRC_HSC2HS_OPTS_STAGE@STAGE@ += $(addprefix --cflag=,$(filter-out -O,$(SRC_CC_OPTS) $(CONF_CC_OPTS_STAGE@STAGE@)))
SRC_HSC2HS_OPTS_STAGE@STAGE@ += $(addprefix --cflag=,$(CONF_CPP_OPTS_STAGE@STAGE@))
SRC_HSC2HS_OPTS_STAGE@STAGE@ += $(addprefix --lflag=,$(CONF_GCC_LINKER_OPTS_STAGE@STAGE@))

AR_STAGE@STAGE@ = @ArCmd@
AR_OPTS_STAGE@STAGE@ = @ArArgs@
EXTRA_AR_ARGS_STAGE@STAGE@ = $(EXTRA_AR_ARGS)
ArSupportsAtFile_STAGE@STAGE@ = @ArSupportsAtFile@

# It's not easy to separate the CPP program from its flags, as
# AC_PROG_CPP defines CPP as "/usr/bin/gcc -E"
CPP_STAGE@STAGE@ = @CPP@ @CPPFLAGS@

